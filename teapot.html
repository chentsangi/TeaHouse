<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>茶和屋</title>
    <link rel="icon" href="./images/iconLeaf.png" type="image/png">
    <link href="bootstrap-5.3.3-dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Comic+Neue:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=Noto+Serif+HK:wght@200..900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="bootstrap-icons-1.11.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="style/style.css">
    <link rel="stylesheet" href="style/animate.css">
</head>
<style>

</style>
</head>

<body>
<header class="pt-3 mb-4" id="topBtn">
    <div class="container d-flex align-items-center justify-content-between">
        <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#mobileMenu"
            aria-controls="mobileMenu">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="navbar-brand d-inline-flex align-items-center gap-1 text-decoration-none">
            <a href="./teahouse.html"><img src="./images/LOGO.png" alt="logo"></a>
            <a href="./teahouse.html" style="text-decoration: none;"><span class="fs-2 fw-bold" style="color: rgb(46, 34, 34);">茶和屋</span></a>
        </div>
        <ul class="nav d-none d-lg-flex">
            <li><a href="./teahouse.html" class="nav-link px-2">品牌理念</a></li>
            <li><a href="./teapot.html" class="nav-link px-2">壺藝茶韻</a></li>
            <li><a href="./Q&A.html" class="nav-link px-2">問道答疑</a></li>
            <li><a href="./contactus.html" class="nav-link px-2">聯絡我們</a></li>
        </ul>

        <div class="d-flex align-items-center">
            <div id="user-welcome" class="me-2" style="color: #8B4513;"></div>
            <a href="login.html" class="header-button login-button">登入</a>
            <a href="register.html" class="header-button register-button"style="margin-left: 10px;">註冊</a>
            <button class="header-button logout-button d-none">登出</button>
        </div>
    </div>

    <div class="btn-container">
        <div class="offcanvas offcanvas-start" tabindex="-1" id="mobileMenu" aria-labelledby="mobileMenuLabel">
            <div class="offcanvas-header">
                <h5 id="mobileMenuLabel">選單</h5>
                <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas"
                    aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
                <ul class="nav flex-column">
                    <li><a href="./teahouse.html" class="nav-link px-2">品牌理念 <img src="./images/rwd1.png"
                                style="width: 50px;margin-bottom: 11px;"></a></li>
                    <li><a href="./teapot.html" class="nav-link px-2">壺藝茶韻 <img src="./images/rwd2.png"
                                style="width: 50px;margin-bottom: 28px;"></a></li>
                    <li><a href="./Q&A.html" class="nav-link px-2">問道答疑 <img src="./images/rwd3.png"
                                style="width: 60px;margin-bottom: 23px;"></a></li>
                    <li><a href="./contactus.html" class="nav-link px-2">聯絡我們 <img src="./images/rwd4.png"
                                style="width: 60px;margin-bottom: 23px;"></a></li>
                </ul>
                <div style="color: #000000; font-size: smaller;padding-left:30px;">
                    <p class="footerInfo">電話 : (04) 2326-5860</p>
                    <p class="footerInfo">營業時間 : 週一至週五 10:00 - 20:00</p>
                    <p class="footerInfo">地址 : 408 臺中市南屯區公益路二段51號</p>
                </div>
            </div>
        </div>
    </div>
</header>
   <!-- 經典茗茶 -->
    <img src="./images/frame1.png" id="toTeaAndPot" style="margin-top: 100px;">
    <div id="TeaAndPotDiv">
        <div class="d-flex justify-content-center align-items-center flex-wrap gap-3">
            <div class="card" style="width: 18rem; border-radius: 20px;">
                <div class="d-flex justify-content-center">
                    <img src="./images/tea1.JPEG" class="card-img-top" alt="..."
                        style="width: 100%; height: auto;border-radius: 20px;">
                </div>
                <div class="card-body">
                    <h5 class="card-title">陳韻普洱</h5>
                    <p class="card-text">茶湯沉穩渾厚，帶有木質陳香與隱隱棗蜜甘甜，入口醇潤順滑，茶氣綿長內斂，層次豐富，展現歲月雕琢的深厚韻味。</p>
                    <p>NT$ 1020 / 300g</p>
                </div>
                <div>
                    <button class="add-to-cart" data-product-id="101" data-product-name="陳韻普洱" data-product-price="1020">
                        加入購物車
                    </button>
                </div>
            </div>

            <div class="card" style="width: 18rem; border-radius: 20px;">
                <div class="d-flex justify-content-center">
                    <img src="./images/tea2.JPG" class="card-img-top" alt="..."
                        style="width: 100%; height: auto;border-radius: 20px;">
                </div>
                <div class="card-body">
                    <h5 class="card-title">翠嵐春綠</h5>
                    <p class="card-text">茶色清透，初啜微澀後回甘悠長，層次豐富，帶有淡雅青草氣息。茶韻溫潤內斂，如春日曙光穿透青嶺，清新怡然。</p>
                    <p>NT$ 750 / 300g</p>
                </div>
                <div>
                    <button class="add-to-cart" data-product-id="102" data-product-name="翠嵐春綠" data-product-price="750">
                        加入購物車
                    </button>
                </div>
            </div>

            <div class="card" style="width: 18rem; border-radius: 20px;">
                <div class="d-flex justify-content-center">
                    <img src="./images/tea3.JPG" class="card-img-top" alt="..."
                        style="width: 100%; height: auto;border-radius: 20px;">
                </div>
                <div class="card-body">
                    <h5 class="card-title">錦霞紅玉</h5>
                    <p class="card-text">茶湯深紅明亮，溫潤醇厚，蜜香與熟果甜韻交織，口感絲滑細緻，層次豐富，回韻悠揚，如晚霞映照天際，華美而深邃。</p>
                    <p>NT$ 620 / 300g</p>
                </div>
                <div>
                    <button class="add-to-cart" data-product-id="103" data-product-name="錦霞紅玉" data-product-price="620">
                        加入購物車
                    </button>
                </div>
            </div>

            <div class="card" style="width: 18rem; border-radius: 20px;">
                <div class="d-flex justify-content-center">
                    <img src="./images/tea4.JPG" class="card-img-top" alt="..."
                        style="width: 100%; height: auto;border-radius: 20px;">
                </div>
                <div class="card-body">
                    <h5 class="card-title">雲崖金露</h5>
                    <p class="card-text">源自高山雲霧之間，茶湯金黃透亮，香氣清幽雅緻，帶有淡淡花果香。口感鮮醇爽滑，回甘悠長，如晨露輕盈點染舌尖。</p>
                    <p>NT$ 850 / 300g</p>
                </div>
                <div>
                    <button class="add-to-cart" data-product-id="104" data-product-name="雲崖金露" data-product-price="850">
                        加入購物車
                    </button>
                </div>
            </div>
        </div>

        <!-- 茶席器具 -->
        <div class="d-flex justify-content-center align-items-center flex-wrap gap-3"
            style="margin-top: 20px;margin-bottom: 50px;">
            <div class="card" style="width: 18rem; border-radius: 20px;">
                <div class="d-flex justify-content-center">
                    <img src="./images/teapot1.jpg" class="card-img-top" alt="..."
                        style="width: 100%; height: auto;border-radius: 20px;">
                </div>
                <div class="card-body ">
                    <h5 class="card-title">方山逸士壺</h5>
                    <p class="card-text">
                        方山逸士壺挺拔俊朗，方中帶圓，線條俐落而不失靈動，展現極致平衡美感。細膩砂質溫潤雅致，壺身輪廓剛柔並濟，匠心獨運。壺嘴壺把方正穩重，容量適中，聚溫理想，獨酌或雅聚皆相得益彰，予人寧靜從容之感。
                    </p>
                    <p>NT$ 4200 / 件</p>
                </div>
                <div>
                    <button class="add-to-cart" data-product-id="201" data-product-name="方山逸士壺" data-product-price="4200">
                        加入購物車
                    </button>
                </div>
            </div>

            <div class="card" style="width: 18rem; border-radius: 20px;">
                <div class="d-flex justify-content-center">
                    <img src="./images/teapot2.jpg" class="card-img-top" alt="..."
                        style="width: 100%; height: auto;border-radius: 20px;">
                </div>
                <div class="card-body ">
                    <h5 class="card-title">方穹壺</h5>
                    <p class="card-text">
                        方穹壺設計乃以「方」為基，以「穹」為意。壺身如地之基，穩重方正；蓋鈕似天之高，廣闊飄渺。八邊形壺身構造，如天地四極般挺立；四個側角採用內凹弧線設計，柔化線條的銳利感，賦予剛柔並濟之美。</p>
                    <p>NT$ 6500 / 件</p>
                </div>
                <div>
                    <button class="add-to-cart" data-product-id="202" data-product-name="方穹壺" data-product-price="6500">
                        加入購物車
                    </button>
                </div>
            </div>

            <div class="card" style="width: 18rem; border-radius: 20px;">
                <div class="d-flex justify-content-center">
                    <img src="./images/teapot3.jpg" class="card-img-top" alt="..."
                        style="width: 100%; height: auto;border-radius: 20px;">
                </div>
                <div class="card-body">
                    <h5 class="card-title">錦泉壺</h5>
                    <p class="card-text">
                        錦泉壺造型渾圓穩重，線條簡潔流暢，帶著一種內斂的優雅。壺嘴短而有力，出水俐落順暢，與壺身的飽滿弧度相呼應。壺蓋與壺鈕設計簡潔，弧線柔和，手感舒適。朱泥胎色溫潤，遇熱後更顯光澤。</p>
                    <p>NT$ 2700 / 件</p>
                </div>
                <div>
                    <button class="add-to-cart" data-product-id="203" data-product-name="錦泉壺" data-product-price="2700">
                        加入購物車
                    </button>
                </div>
            </div>
            <div class="card" style="width: 18rem; border-radius: 20px;">
                <div class="d-flex justify-content-center">
                    <img src="./images/teapot4.jpg" class="card-img-top" alt="..."
                        style="width: 100%; height: auto;border-radius: 20px;">
                </div>
                <div class="card-body">
                    <h5 class="card-title">聖櫻壺</h5>
                    <p class="card-text">
                        聖櫻壺以櫻果為靈感，造型溫潤柔和，壺身圓融飽滿，線條如水波輕蕩，營造出一種內斂而優雅的氣質。壺嘴短而有力，彷彿枝頭垂落的櫻果，簡潔中透著自然的靈動，細節處處體現精湛的工藝。</p>
                    <p>NT$ 5200 / 件</p>
                </div>
                <div>
                    <button class="add-to-cart" data-product-id="204" data-product-name="聖櫻壺" data-product-price="5200">
                        加入購物車
                    </button>
                </div>
            </div>
        </div>
    </div>
    </div>



    <div id="fixedButton">
        <div id="cart">
            <img src="./images/bag.png">
            <span id="cart-count">0</span>
        </div>

        <div>
            <button id="goTopbtn">Top</button>
        </div>
    </div>
    
    <!-- 購物車區塊（預設隱藏） -->
    <div id="cart-container" class="hidden">
        <h3>購物車</h3>
        <ul id="cart-content"><li>目前購物車是空的</li></ul>
        <p id="cart-total-price">總金額：$ 0 元</p> 
        <button id="checkout-button">結帳</button>
        <button id="close-cart">關閉</button>
    </div>
    
    
    <footer>
        <div style="color: #000000; font-size: smaller;">
            <p class="footerInfo">電話 : (04) 2326-5860</p>
            <p class="footerInfo">營業時間 : 週一至週五 10:00 - 20:00</p>
            <p class="footerInfo">地址 : 408 臺中市南屯區公益路二段51號</p>
            <p id="copyRight"> © 2025 by 茶和屋 / Design By Chentsangi</p>
        </div>
        <div class="socialIcon">
            <a class="btn footerBtn" href="https://www.facebook.com"><img src="./images/facebook.png"></a>
            <a class="btn footerBtn" href="https://www.instagram.com"><img src="./images/instagram.png"></a>
            <a class="btn footerBtn" href="https://www.youtube.com"><img src="./images/youtube.png"></a>
        </div>
    </footer>
    <script src="./js/user-display.js"></script>
    <script src="./cart.js"></script>
    
    <script>
        
        document.addEventListener("DOMContentLoaded", function () {
            fetch("user.php")
                .then(response => response.json())
                .then(data => {
                    if (data.loggedIn) {
                        document.querySelector(".goTonext").textContent = `歡迎回來, ${data.name || '訪客'}!`;
                        document.querySelector(".logout-button").classList.remove("d-none");
                        document.querySelector(".login-button").classList.add("d-none");
                        document.querySelector(".register-button").classList.add("d-none");
                    } else {
                        document.querySelector(".goTonext").textContent = "請登入";
                        document.querySelector(".logout-button").classList.add("d-none");
                        document.querySelector(".login-button").classList.remove("d-none");
                        document.querySelector(".register-button").classList.remove("d-none");
                    }
                });
        });
    </script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            let topButton = document.getElementById("goTopbtn");
        
            if (!topButton) {
                console.error("goTopbtn 按鈕未找到，請檢查 HTML");
                return;
            }
        
            topButton.addEventListener("click", function () {
                window.scrollTo({ top: 0, behavior: "smooth" });
            });
        
            console.log("goTopbtn 綁定成功");
        });
        </script>
</body>
<script src="bootstrap-5.3.3-dist/js/bootstrap.min.js"></script>
<script>
    function checkLoginStatus() {
    fetch("user.php?nocache=" + new Date().getTime()) 
        .then(response => response.json())
        .then(data => {
            let goTonext = document.querySelector(".goTonext");
            let loginBtn = document.querySelector(".login-button");
            let registerBtn = document.querySelector(".register-button");
            let logoutBtn = document.querySelector(".logout-button");

            if (data.loggedIn) {
                goTonext.textContent = `歡迎回來, ${data.name || '訪客'}!`;
                logoutBtn.classList.remove("d-none"); 
                loginBtn.classList.add("d-none");
                registerBtn.classList.add("d-none");
            } else {
                goTonext.textContent = "請登入";
                logoutBtn.classList.add("d-none"); 
                loginBtn.classList.remove("d-none");
                registerBtn.classList.remove("d-none");
            }
        })
        .catch(error => console.error("登入狀態請求錯誤:", error));
}


        document.addEventListener("DOMContentLoaded", checkLoginStatus);
    // 購物袋

    let cartBtns = document.querySelectorAll("#cartBtn");

    let cartCount = document.querySelector("#cart span");

    let cartQuantity = 0;

    for (let i = 0; i < cartBtns.length; i++) {
        cartBtns[i].addEventListener("click", function (event) {
            event.preventDefault(); 

            cartQuantity++;

            cartCount.textContent = cartQuantity;
        })
    }

    //小尺寸螢幕滾動問題
    let navLinks = document.querySelectorAll(".nav-link");
    let offcanvas = document.querySelector("#mobileMenu");
    let offcanvasInstance = bootstrap.Offcanvas.getOrCreateInstance(offcanvas);

    navLinks.forEach(link => {
        link.addEventListener("click", function (event) {
            let targetId = this.getAttribute("href");

            if (targetId && targetId.startsWith("#")) {
                event.preventDefault(); 

                let targetElement = document.querySelector(targetId);
                if (targetElement) {
                    let offset = 100; 
                    let elementPosition = targetElement.getBoundingClientRect().top + window.scrollY;


                    offcanvasInstance.hide();


                    setTimeout(() => {
                        window.scrollTo({
                            top: elementPosition - offset,
                            behavior: "smooth"
                        });
                    }, 300);
                }
            }
        });
    });
</script>

</html>